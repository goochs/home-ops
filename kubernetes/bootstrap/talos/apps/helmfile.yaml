---
helmDefaults:
  force: true
  timeout: 600
  wait: true
  waitForJobs: true

releases:
  - name: prometheus-operator-crds
    chart: oci://ghcr.io/prometheus-community/charts/prometheus-operator-crds
    namespace: observability
    version: 17.0.2

  - name: cilium
    chart: cilium/cilium
    namespace: kube-system
    needs: ["observability/prometheus-operator-crds"]
    values: ["../../../apps/kube-system/cilium/app/helm-values.yaml"]
    version: 1.16.6

  - name: coredns
    chart: coredns/coredns
    namespace: kube-system
    values: ["../../../apps/kube-system/coredns/app/helm-values.yaml"]
    needs: ["kube-system/cilium"]
    version: 1.37.3

repositories:
  - name: cilium
    url: https://helm.cilium.io
  - name: coredns
    url: https://coredns.github.io/helm
